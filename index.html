<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>

    <!-- PLUGIN FOR TEXTS-->
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>

    <!-- PLUGIN FOR DRAG&DROP -->
    <!--<script src="https://unpkg.com/aframe-click-drag-component"></script>-->
    <!--LOCAL USE-->
    <script src="./scripts/drag_manual.js"></script>
    <script>
        registerAframeClickDragComponent(window.AFRAME);

    </script>

    <script type="text/javascript">
        window.onkeyup = function(e){
            var key = e.keyCode ? e.keyCode : e.which;

            if (key == 81){
                console.log('PRESSED Q');
                var camros = document.getElementById("mycamentity").getAttribute("rotation");
                var campos = document.getElementById("mycamentity").getAttribute("position");
                console.log(campos);

                var x = campos.x;
                var y = campos.y;
                var z = campos.z;


                camros.y += 4;
                campos.x -= 0.1;

                document.getElementById("mycamentity").setAttribute("rotation", camros);

            }

            if (key == 69){
                var locked = document.getElementById("mycam").getAttribute('look-controls');
                console.log(locked);

                if(locked.enabled==="true"){
                    document.getElementById("mycam").setAttribute('look-controls', {enabled: 'false'});
                }
                else{
                    document.getElementById("mycam").setAttribute('look-controls', {enabled: 'true'});
                }
            }
        }



    </script>


</head>
<body>

    Path<input id="newimagepath" type="text">
    <button onclick="getNewImage()">UPLOAD</button>

    <script type="text/javascript">
        function getNewImage(){
//            var yourpath = document.getElementById("newimagepath").value;
//
//            console.log(yourpath);
//
//            var findid = "#test";
//            var newimage = document.createElement("IMG");
//            newimage.setAttribute("src",yourpath);
//            newimage.setAttribute("id","test");
//
//            console.log(newimage);
//            document.getElementById('assetmanager').appendChild(newimage);
//
//            var theimg = document.createElement("A-IMAGE");
//            theimg.setAttribute("src",findid);
//            theimg.setAttribute("position","0 0 1");
//            theimg.setAttribute("rotation","0 90 0");
//            theimg.setAttribute("scale","8 8 8");
//
//
//            console.log(theimg);
//
//            document.getElementById('myscene').appendChild(theimg);
        }


        function loadNewText(){
            var yourtext = document.getElementById("newtext").value;
            var yourcolor = document.getElementById("newcolor").value;

            var textnode = document.createElement("A-ENTITY");
            textnode.setAttribute('click-drag',1);
            textnode.setAttribute('position',{x: 1, y: 1, z: 0});

            textnode.setAttribute("bmfont-text","text: "+yourtext+"; color:"+yourcolor+"; width:1000");
            textnode.setAttribute("scale",{x: 5, y: 5, z:1});



            console.log(textnode);
            document.getElementById("myscene").appendChild(textnode);

        }

    </script>

    YourNewText<input id="newtext" type="text">
    <button onclick="loadNewText()">Upload My Text</button>
    YourColor<input id="newcolor" type="color">



<a-scene id="myscene">
    <a-assets id="assetmanager">
        <img id="pic" src="./assets/images/pic.jpeg">
        <img id="deep" src="./assets/images/deep.jpg">
        <img id="ork" src="./assets/images/orks.png">
        <img id="myimage" src="./assets/images/myskybox.png">
        <!--<video id="vid" src="./assets/video/neo.mp4" autoplay loop="true"></video>-->
        <a-asset-item id="sculpture" src="./assets/objects/cube/sculpture.dae"></a-asset-item>

    </a-assets>

    <!-- LOAD MODELS -->
    <a-collada-model click-drag src="#sculpture" position="10 0 -6"></a-collada-model>

    <!-- LOAD LIGHTS -->
    <a-entity light="type: spot; angle: -25" position="0 10 0"></a-entity>
    <a-entity light="type: ambient; color: #CCC"></a-entity>


    <!-- LOAD BOXES -->
    <a-box color="#f4b042" depth="40" height="40" width="2" position="0 0 -20" rotation="0 90 0"></a-box>
    <a-box color="#f44274" depth="40" height="40" width="2" position="0 0 20" rotation="0 90 0"></a-box>
    <a-box color="#f47442" depth="40" height="40" width="2" position="-20 0 0"></a-box>
    <a-box color="#42f4ad" depth="40" height="40" width="2" position="20 0 0"></a-box>

    <a-box color="#bbc9c3" depth="40" height="40" width="2" position="0 -10 0" rotation="0 0 90"></a-box>

    <a-sphere click-drag position="10 1.25 -1" radius="1.25" color="#EF2D5E"></a-sphere>

    <!-- LOAD IMAGES -->
    <a-image click-drag src="#ork" position="-3.2 0 0" rotation="0 90 0" scale="8 8 8"></a-image>

    <!-- LOAD TEXTS -->
    <a-entity click-drag bmfont-text="text: Hello world; color:#ffffff; width:150" position="7.25 0 -2" rotation="0 -90 0" scale="10 10 10" ></a-entity>




    <a-sky src="#myimage"></a-sky>
    <a-entity id="mycamentity" position="0 0 0" rotation="0 0 0">

        <!--IF VR DISABLE?-->
        <!---->
        <a-camera id="mycam" look-controls-enabled="false"></a-camera>
    </a-entity>
</a-scene>
</body>
</html>

